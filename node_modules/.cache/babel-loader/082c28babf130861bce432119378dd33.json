{"ast":null,"code":"import _regeneratorRuntime from\"/home/chauhoaivu/WEBDEV/redux_base/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/chauhoaivu/WEBDEV/redux_base/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from\"react\";import\"./ProductDetail.scss\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{SelectProduct,removeProduct}from\"../../redux/action/ProductAction\";import{useDispatch}from\"react-redux\";import{useSelector}from\"react-redux\";import{incremented}from\"../../redux/action/ProductAction\";import{decremented}from\"../../redux/action/ProductAction\";import{categoryProducts,geturl}from\"../../redux/action/ProductAction\";import{Button}from\"@mui/material\";import picture from\"../../asset/picture.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetail=function ProductDetail(){var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var detail=useSelector(function(state){return state.productDetails;});var title=detail.title,price=detail.price,description=detail.description,images=detail.images;var url=useSelector(function(state){return state.fetchurls;});console.log(\"url\",url.urls);var listimg=[];for(var key in images){listimg.push(images[key]);}var number=useSelector(function(state){return state.Counters;});var fetproductDetail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.escuelajs.co/api/v1/products/\".concat(id)).catch(function(err){return console.log(\"err\",err);});case 2:response=_context.sent;dispatch(SelectProduct(response.data));dispatch(categoryProducts(response.data.category));case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetproductDetail(){return _ref.apply(this,arguments);};}();useEffect(function(){if(id&&id!==\"\")fetproductDetail();return function(){dispatch(removeProduct());};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[id]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main_frame_card_detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"frame_main_img_title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"frame_img\",children:url.urls===undefined?/*#__PURE__*/_jsx(\"div\",{children:listimg.slice(0,1).map(function(item){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:item,alt:\"\",style:{cursor:\"pointer\"}})},item);})}):/*#__PURE__*/_jsx(\"img\",{src:url.urls,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"frame_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"$\",price]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"quantity:\",number]}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return dispatch(incremented(1));},children:\"+\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return dispatch(decremented(1));},children:\"-\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main_frame_list_img\",children:listimg.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"list_img\",children:/*#__PURE__*/_jsx(\"img\",{src:item,alt:\"\",onClick:function onClick(){return dispatch(geturl(item));},style:{cursor:\"pointer\"}})},item);})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:picture,alt:\"\"})})]})});};export default ProductDetail;","map":{"version":3,"names":["React","useEffect","useParams","axios","SelectProduct","removeProduct","useDispatch","useSelector","incremented","decremented","categoryProducts","geturl","Button","picture","ProductDetail","id","dispatch","detail","state","productDetails","title","price","description","images","url","fetchurls","console","log","urls","listimg","key","push","number","Counters","fetproductDetail","get","catch","err","response","data","category","undefined","slice","map","item","cursor"],"sources":["/home/chauhoaivu/WEBDEV/redux_base/src/components/productdetail/ProductDetail.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./ProductDetail.scss\";\n\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { SelectProduct, removeProduct } from \"../../redux/action/ProductAction\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { incremented } from \"../../redux/action/ProductAction\";\nimport { decremented } from \"../../redux/action/ProductAction\";\nimport { categoryProducts, geturl } from \"../../redux/action/ProductAction\";\nimport { Button } from \"@mui/material\";\nimport picture from \"../../asset/picture.png\";\n\n\nconst ProductDetail = () => {\n  const { id } = useParams();\n\n  const dispatch = useDispatch();\n\n  const detail = useSelector((state) => state.productDetails);\n\n  const { title, price, description, images } = detail;\n\n  const url = useSelector((state) => state.fetchurls);\n\n  console.log(\"url\", url.urls);\n\n  var listimg = [];\n  for (var key in images) {\n    listimg.push(images[key]);\n  }\n\n  const number = useSelector((state) => state.Counters);\n\n  const fetproductDetail = async () => {\n    const response = await axios\n      .get(`https://api.escuelajs.co/api/v1/products/${id}`)\n      .catch((err) => console.log(\"err\", err));\n\n    dispatch(SelectProduct(response.data));\n\n    dispatch(categoryProducts(response.data.category));\n  };\n\n  useEffect(() => {\n    if (id && id !== \"\") fetproductDetail();\n\n    return () => {\n      dispatch(removeProduct());\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  return (\n    <div>\n      <div className=\"main_frame_card_detail\">\n        <div className=\"frame_main_img_title\">\n          <div className=\"frame_img\">\n            {url.urls === undefined ? (\n              <div>\n                {listimg.slice(0, 1).map((item) => (\n                  <div key={item}>\n                    <img src={item} alt=\"\" style={{ cursor: \"pointer\" }} />\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <img src={url.urls} alt=\"\" />\n            )}\n          </div>\n          <div className=\"frame_title\">\n            <h2>{title}</h2>\n            <h2>${price}</h2>\n            <div>\n              <h3>quantity:{number}</h3>\n\n              <Button onClick={() => dispatch(incremented(1))}>+</Button>\n              <Button onClick={() => dispatch(decremented(1))}>-</Button>\n            </div>\n            <h3>{description}</h3>\n          </div>\n        </div>\n\n        <div className=\"main_frame_list_img\">\n          {listimg.map((item) => (\n            <div key={item} className=\"list_img\">\n              <img\n                src={item}\n                alt=\"\"\n                onClick={() => dispatch(geturl(item))}\n                style={{ cursor: \"pointer\" }}\n              />\n            </div>\n          ))}\n        </div>\n        <div>\n          <img src ={picture} alt =\"\"/>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}